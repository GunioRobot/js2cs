<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>JS2CS Converter</title>
    <script src="parser.browser.js" type="text/javascript"></script>
    <script src="app.js" type="text/javascript"></script>
    <script type="text/javascript">
     var convert = function(val) {
      var output = '';
      var _error;
      document.getElementById("error").value = '';
      try{
        var ast = parseJs(val);
      } catch(e) {
        _error = e.name + " on line " + e.line + " on column " + e.column + ": " + e.message;
        document.getElementById("error").value = _error;
      } finally {
        parseNode(ast);
        var cs = document.getElementById("cs");
        cs.value = output;
      }
     }
     document.onLoad = function() {
       document.getElementById("cs").value = convert(document.getElementById("js").value);
     }
    </script>
  </head>
  
  <body>
    <div>
      <h1>JavaScript to CoffeeScript Compiler</h1>
      <p>Written in JavaScript. Contains no meat, no imperfections and no tests. Viewer disgression is advised and Grandma might not "trip out" when she sees this. By jsilver</p>
      <p>Directions: Enter JavaScript below. The convert function is run per-key press, so type slowly or c+p. If it doesn't compile you broke the parser and you need to please it by reading the syntaxError and changing the offending token.</p>
      <p>Syntax error:<input type="text" id="error" value="" size="100" /></p>

      <p>Input JavaScript</p>
      <textarea rows="15" cols="100" id="js" onKeyUp="convert(this.value)"></textarea>
      <p>Resultant CoffeeScript</p>
      <textarea rows="15" cols="100" id="cs"></textarea>
      
    </div>
  </body>
</html>
