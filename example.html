<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>JS2CS Converter</title>
    <!-- js2cs itself -->
    <script src="parser.browser.js" type="text/javascript"></script>
    <script src="app.js" type="text/javascript"></script>
    <!-- codemirror -->
    <script src="codemirror/js/codemirror.js" type="text/javascript"></script>  
     <script type="text/javascript">
     var convert = function(val) {
      output = '';
      var _error;
      document.getElementById("error").value = '';
      try{
        var ast = parseJs(val);
      } catch(e) {
        _error = e.name + " on line " + e.line + " on column " + e.column + ": " + e.message;
        document.getElementById("error").value = _error;
      } finally {
        parseNode(ast);
        var cs = document.getElementById("cs");
        cs.value = removeBlankLines(output);
      }
     }
     
     window.onload = function() {
        /*
        var editor = CodeMirror.fromTextArea('js', {
          parserfile: ["tokenizejavascript.js", "parsejavascript.js"],
          stylesheet: "codemirror/css/jscolors.css",
          path: "codemirror/js/",
          width: "960px",
          height: "480px",
          onChange: function(){}
        });
       */
       convert(document.getElementById("js").value);
     }
 
    </script>
  </head>
  
  <body>
    <div>
      <h1>JavaScript to CoffeeScript Compiler</h1>
      <p>Syntax error:<input type="text" id="error" value="" size="100" /></p>

      <p>Input JavaScript</p>
      <textarea rows="15" cols="50" id="js" onKeyUp="convert(this.value)"></textarea>
<hr />
      <p>Resultant CoffeeScript</p>
      <textarea rows="35" cols="100" id="cs"></textarea>
      
<p>jsilver made this! mindynamics into the future!</p>
    </div>
  </body>
</html>
